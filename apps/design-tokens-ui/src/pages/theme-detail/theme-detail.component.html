<div class="design-tokens-ui-button-header">
  <h1>{{ _themeName | humanize }}</h1>
  <fluid-button emphasis="high" i18n (click)="_saveChanges()"
    >Save changes</fluid-button
  >
</div>

<div class="design-tokens-ui-theme-detail--content">
  <div class="design-tokens-ui-area-panel design-tokens-ui-settings-area">
    <router-outlet *ngIf="(_theme$ | async)?.globalGenerationOptions">
    </router-outlet>

    <div *ngIf="!(_theme$ | async)?.globalGenerationOptions">
      <p i18n>
        This theme was created manually or generated by another tool. You can
        choose to overwrite this theme to make it editable which will cause all
        colors to be regenerated with new contrast values.
      </p>
      <fluid-button emphasis="high" i18n (click)="_createGenerationOptions()"
        >Overwrite theme</fluid-button
      >
    </div>
  </div>

  <div class="design-tokens-ui-area-panel design-tokens-ui-colors-area">
    <div
      class="design-tokens-ui-button-header design-tokens-ui-button-header-start"
    >
      <h2 i18n>Colors</h2>

      <fluid-button
        size="small"
        [emphasis]="_showGaps ? 'high' : 'low'"
        (click)="_toggleGaps()"
      >
        <span i18n>Gaps</span>
      </fluid-button>
    </div>

    <div
      class="design-tokens-ui-shades--container"
      [class.design-tokens-ui-gaps]="_showGaps"
    >
      <a
        class="design-tokens-ui-shades design-tokens-ui-basic-link"
        *ngFor="
          let palette of (_theme$ | async)?.palettes;
          index as paletteIndex
        "
        [routerLink]="palette.name"
        routerLinkActive="design-tokens-ui-palette-link-active"
      >
        <div class="design-tokens-ui-palette-name">
          {{ palette.name | humanize }}
        </div>

        <div class="design-tokens-ui-shades--preview-list">
          <ng-container
            *ngFor="let shade of palette.tokenData.shades; index as shadeIndex"
          >
            <div
              *ngIf="palette.generatedColors[shadeIndex] as color"
              class="design-tokens-ui-shade-preview"
              [style.background-color]="color"
              [style.color]="_getTextColorOnBackground(color)"
            >
              <span
                class="design-tokens-ui-shade-description design-tokens-ui-shade-name"
                >{{ shade.aliasName }} ({{ shade.ratio }})</span
              >
              <span
                class="design-tokens-ui-shade-description design-tokens-ui-shade-color"
                >{{ color }}</span
              >
            </div>
          </ng-container>
        </div>
      </a>
    </div>
  </div>
</div>
